import{d as y,e as p,o as V,c as v,a as o,w as s,b as r,f as u,g as C,E as N,h as c,r as a,i as _,p as j,j as B,_ as I}from"./index-CNCEsL4D.js";import{u as S}from"./userstore-DjPcRT5O.js";const E=l=>(j("data-v-6bfd5d89"),l=l(),B(),l),U={id:"login_1"},L=E(()=>r("div",{id:"login_hander"},[r("h1",null,"登录")],-1)),q={style:{height:"40px","line-height":"40px","text-align":"right","margin-bottom":"20px"}},z="top",M=y({__name:"ComLogin",setup(l){const g=S(),t=p({jobNum:"",password:""}),f=p({jobNum:[{required:!0,message:"请输入用户名！",trigger:"blur"},{min:3,max:10,message:"字符长度必须在3-10之间！",trigger:"blur"}],password:[{required:!0,message:"请输入密码！",trigger:"blur"},{min:6,max:18,message:"字符长度必须在6-18之间！",trigger:"blur"}]}),h=()=>{u.push({name:"registered"})},x=()=>{C.post(g.apiurl+"/api/system/login",t).then(function(e){console.log(e),e.data.code==200?(console.log("登录成功！"),window.sessionStorage.setItem("token",e.data.data.token),N.alert("点击确认，进入主页","提示",{confirmButtonText:"确认",callback:()=>{c({type:"success",message:e.data.msg}),u.push({name:"home"})}})):c.error(e.data.msg)}).catch(function(e){console.log(e)})};return(e,n)=>{const d=a("el-input"),m=a("el-form-item"),b=a("el-form"),w=a("el-link"),k=a("el-button");return V(),v("div",U,[L,o(b,{"label-position":z,"label-width":"auto",model:t,size:"large",rules:f,style:{"max-width":"600px"}},{default:s(()=>[o(m,{prop:"name"},{default:s(()=>[o(d,{"prefix-icon":"User",modelValue:t.jobNum,"onUpdate:modelValue":n[0]||(n[0]=i=>t.jobNum=i),placeholder:"请输入用户名！"},null,8,["modelValue"])]),_:1}),o(m,{prop:"password"},{default:s(()=>[o(d,{"prefix-icon":"Lock",modelValue:t.password,"onUpdate:modelValue":n[1]||(n[1]=i=>t.password=i),"show-password":!0,placeholder:"请输入密码！"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"]),r("div",q,[o(w,{underline:!1,onClick:h,type:"primary"},{default:s(()=>[_("还没有账号，前往注册！")]),_:1})]),r("div",null,[o(k,{style:{width:"100%"},onClick:x,size:"large",type:"primary"},{default:s(()=>[_("登录")]),_:1})])])}}}),D=I(M,[["__scopeId","data-v-6bfd5d89"]]);export{D as default};
